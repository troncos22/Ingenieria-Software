{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\cjsal\\\\Documents\\\\2. UAI\\\\Informatica\\\\Ingenieria de software\\\\Ingenieria-Software\\\\src\\\\components\\\\ChileMap.js\";\nimport { MapContainer, TileLayer, Marker, useMap } from \"react-leaflet\";\nimport \"leaflet/dist/leaflet.css\";\nimport L from \"leaflet\";\nimport { useEffect } from \"react\";\n\n// ðŸ”§ Corregir Ã­conos por defecto de Leaflet\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\ndelete L.Icon.Default.prototype._getIconUrl;\nL.Icon.Default.mergeOptions({\n  iconRetinaUrl: \"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon-2x.png\",\n  iconUrl: \"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon.png\",\n  shadowUrl: \"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-shadow.png\"\n});\nconst ChileMap = ({\n  sensors,\n  onSelectSensor\n}) => {\n  var _s = $RefreshSig$();\n  // Limites de Chile (para restringir desplazamiento)\n  const chileBounds = L.latLngBounds(L.latLng(-56, -76), L.latLng(-17, -66));\n\n  // Permite centrar el mapa si se quisiera (mantiene compatibilidad)\n  const MapViewUpdater = ({\n    center\n  }) => {\n    _s();\n    const map = useMap();\n    useEffect(() => {\n      if (center) map.flyTo(center, 6, {\n        duration: 1\n      });\n    }, [center]);\n    return null;\n  };\n\n  // Colores de los cÃ­rculos segÃºn estado\n  _s(MapViewUpdater, \"IoceErwr5KVGS9kN4RQ1bOkYMAg=\", false, function () {\n    return [useMap];\n  });\n  const colorCircle = status => {\n    switch (status) {\n      case \"critical\":\n        return \"red\";\n      case \"warning\":\n        return \"orange\";\n      default:\n        return \"green\";\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"rounded-3xl border border-gray-200 shadow-xl overflow-hidden h-[600px] relative z-0\",\n    children: /*#__PURE__*/_jsxDEV(MapContainer, {\n      center: [-35.6751, -71.543],\n      zoom: 5,\n      minZoom: 4.5,\n      maxZoom: 10,\n      maxBounds: chileBounds,\n      maxBoundsViscosity: 1.0,\n      style: {\n        width: \"100%\",\n        height: \"100%\",\n        zIndex: 0\n      },\n      children: [/*#__PURE__*/_jsxDEV(TileLayer, {\n        url: \"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\",\n        attribution: \"\\xA9 OpenStreetMap contributors\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 9\n      }, this), sensors.map(s => /*#__PURE__*/_jsxDEV(Marker, {\n        position: [s.location.latitude, s.location.longitude],\n        eventHandlers: {\n          click: () => onSelectSensor(s)\n        },\n        icon: new L.DivIcon({\n          html: `\n                  <div\n                    style=\"\n                      background-color: ${colorCircle(s.status)};\n                      width: 16px;\n                      height: 16px;\n                      border-radius: 50%;\n                      border: 2px solid white;\n                      box-shadow: 0 0 6px rgba(0,0,0,0.3);\n                    \"\n                  ></div>\n                `,\n          className: \"\",\n          iconSize: [16, 16]\n        })\n      }, s.id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 11\n      }, this)), /*#__PURE__*/_jsxDEV(MapViewUpdater, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 43,\n    columnNumber: 5\n  }, this);\n};\n_c = ChileMap;\nexport default ChileMap;\nvar _c;\n$RefreshReg$(_c, \"ChileMap\");","map":{"version":3,"names":["MapContainer","TileLayer","Marker","useMap","L","useEffect","jsxDEV","_jsxDEV","Icon","Default","prototype","_getIconUrl","mergeOptions","iconRetinaUrl","iconUrl","shadowUrl","ChileMap","sensors","onSelectSensor","_s","$RefreshSig$","chileBounds","latLngBounds","latLng","MapViewUpdater","center","map","flyTo","duration","colorCircle","status","className","children","zoom","minZoom","maxZoom","maxBounds","maxBoundsViscosity","style","width","height","zIndex","url","attribution","fileName","_jsxFileName","lineNumber","columnNumber","s","position","location","latitude","longitude","eventHandlers","click","icon","DivIcon","html","iconSize","id","_c","$RefreshReg$"],"sources":["C:/Users/cjsal/Documents/2. UAI/Informatica/Ingenieria de software/Ingenieria-Software/src/components/ChileMap.js"],"sourcesContent":["import { MapContainer, TileLayer, Marker, useMap } from \"react-leaflet\";\nimport \"leaflet/dist/leaflet.css\";\nimport L from \"leaflet\";\nimport { useEffect } from \"react\";\n\n// ðŸ”§ Corregir Ã­conos por defecto de Leaflet\ndelete L.Icon.Default.prototype._getIconUrl;\nL.Icon.Default.mergeOptions({\n  iconRetinaUrl:\n    \"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon-2x.png\",\n  iconUrl:\n    \"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon.png\",\n  shadowUrl:\n    \"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-shadow.png\",\n});\n\nconst ChileMap = ({ sensors, onSelectSensor }) => {\n  // Limites de Chile (para restringir desplazamiento)\n  const chileBounds = L.latLngBounds(L.latLng(-56, -76), L.latLng(-17, -66));\n\n  // Permite centrar el mapa si se quisiera (mantiene compatibilidad)\n  const MapViewUpdater = ({ center }) => {\n    const map = useMap();\n    useEffect(() => {\n      if (center) map.flyTo(center, 6, { duration: 1 });\n    }, [center]);\n    return null;\n  };\n\n  // Colores de los cÃ­rculos segÃºn estado\n  const colorCircle = (status) => {\n    switch (status) {\n      case \"critical\":\n        return \"red\";\n      case \"warning\":\n        return \"orange\";\n      default:\n        return \"green\";\n    }\n  };\n\n  return (\n    <div className=\"rounded-3xl border border-gray-200 shadow-xl overflow-hidden h-[600px] relative z-0\">\n      <MapContainer\n        center={[-35.6751, -71.543]}\n        zoom={5}\n        minZoom={4.5}\n        maxZoom={10}\n        maxBounds={chileBounds}\n        maxBoundsViscosity={1.0}\n        style={{ width: \"100%\", height: \"100%\", zIndex: 0 }}\n      >\n        <TileLayer\n          url=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\n          attribution='&copy; OpenStreetMap contributors'\n        />\n\n        {sensors.map((s) => (\n          <Marker\n            key={s.id}\n            position={[s.location.latitude, s.location.longitude]}\n            eventHandlers={{\n              click: () => onSelectSensor(s),\n            }}\n            icon={\n              new L.DivIcon({\n                html: `\n                  <div\n                    style=\"\n                      background-color: ${colorCircle(s.status)};\n                      width: 16px;\n                      height: 16px;\n                      border-radius: 50%;\n                      border: 2px solid white;\n                      box-shadow: 0 0 6px rgba(0,0,0,0.3);\n                    \"\n                  ></div>\n                `,\n                className: \"\",\n                iconSize: [16, 16],\n              })\n            }\n          />\n        ))}\n\n        <MapViewUpdater />\n      </MapContainer>\n    </div>\n  );\n};\n\nexport default ChileMap;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}