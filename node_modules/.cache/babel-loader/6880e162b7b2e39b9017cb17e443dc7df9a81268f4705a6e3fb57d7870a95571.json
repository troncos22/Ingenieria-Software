{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\cjsal\\\\Documents\\\\2. UAI\\\\Informatica\\\\Ingenieria de software\\\\Ingenieria-Software\\\\src\\\\components\\\\ChileMap.js\",\n  _s2 = $RefreshSig$();\nimport { MapContainer, TileLayer, Marker, Popup, useMap } from \"react-leaflet\";\nimport \"leaflet/dist/leaflet.css\";\nimport L from \"leaflet\";\nimport { useEffect, useState } from \"react\";\n\n// ðŸ”§ Corregir Ã­conos por defecto de Leaflet\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\ndelete L.Icon.Default.prototype._getIconUrl;\nL.Icon.Default.mergeOptions({\n  iconRetinaUrl: \"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon-2x.png\",\n  iconUrl: \"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon.png\",\n  shadowUrl: \"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-shadow.png\"\n});\nconst ChileMap = ({\n  sensors,\n  onSelectSensor\n}) => {\n  _s2();\n  var _s = $RefreshSig$();\n  const chileBounds = L.latLngBounds(L.latLng(-56, -76), L.latLng(-17, -66));\n  const [hoveredSensor, setHoveredSensor] = useState(null);\n\n  // ðŸ” Permite centrar el mapa suavemente si se quisiera\n  const MapViewUpdater = ({\n    center\n  }) => {\n    _s();\n    const map = useMap();\n    useEffect(() => {\n      if (center) map.flyTo(center, 6, {\n        duration: 1\n      });\n    }, [center]);\n    return null;\n  };\n  _s(MapViewUpdater, \"IoceErwr5KVGS9kN4RQ1bOkYMAg=\", false, function () {\n    return [useMap];\n  });\n  const colorCircle = status => {\n    switch (status) {\n      case \"critical\":\n        return \"red\";\n      case \"warning\":\n        return \"orange\";\n      default:\n        return \"green\";\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"rounded-3xl border border-gray-200 shadow-xl overflow-hidden h-[600px] relative z-0\",\n    children: /*#__PURE__*/_jsxDEV(MapContainer, {\n      center: [-35.6751, -71.543],\n      zoom: 5,\n      minZoom: 4.5,\n      maxZoom: 10,\n      maxBounds: chileBounds,\n      maxBoundsViscosity: 1.0,\n      style: {\n        width: \"100%\",\n        height: \"100%\",\n        zIndex: 0\n      },\n      children: [/*#__PURE__*/_jsxDEV(TileLayer, {\n        url: \"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\",\n        attribution: \"\\xA9 OpenStreetMap contributors\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 9\n      }, this), sensors.map(s => /*#__PURE__*/_jsxDEV(Marker, {\n        position: [s.location.latitude, s.location.longitude],\n        eventHandlers: {\n          click: () => onSelectSensor(s),\n          mouseover: () => setHoveredSensor(s.id),\n          mouseout: () => setHoveredSensor(null)\n        },\n        children: hoveredSensor === s.id && /*#__PURE__*/_jsxDEV(Popup, {\n          autoClose: false,\n          closeButton: false,\n          className: \"!z-[5000]\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-sm\",\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: s.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 71,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 72,\n              columnNumber: 19\n            }, this), \"Estado:\", \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n              className: `font-semibold ${s.status === \"critical\" ? \"text-red-600\" : s.status === \"warning\" ? \"text-yellow-600\" : \"text-green-600\"}`,\n              children: s.status.toUpperCase()\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 74,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 85,\n              columnNumber: 19\n            }, this), \"Nivel: \", s.value, \"%\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 70,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 15\n        }, this)\n      }, s.id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 11\n      }, this)), /*#__PURE__*/_jsxDEV(MapViewUpdater, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 43,\n    columnNumber: 5\n  }, this);\n};\n_s2(ChileMap, \"N/c7d4JfTjWPNVVHOBGIOyIdhks=\");\n_c = ChileMap;\nexport default ChileMap;\nvar _c;\n$RefreshReg$(_c, \"ChileMap\");","map":{"version":3,"names":["MapContainer","TileLayer","Marker","Popup","useMap","L","useEffect","useState","jsxDEV","_jsxDEV","Icon","Default","prototype","_getIconUrl","mergeOptions","iconRetinaUrl","iconUrl","shadowUrl","ChileMap","sensors","onSelectSensor","_s2","_s","$RefreshSig$","chileBounds","latLngBounds","latLng","hoveredSensor","setHoveredSensor","MapViewUpdater","center","map","flyTo","duration","colorCircle","status","className","children","zoom","minZoom","maxZoom","maxBounds","maxBoundsViscosity","style","width","height","zIndex","url","attribution","fileName","_jsxFileName","lineNumber","columnNumber","s","position","location","latitude","longitude","eventHandlers","click","mouseover","id","mouseout","autoClose","closeButton","name","toUpperCase","value","_c","$RefreshReg$"],"sources":["C:/Users/cjsal/Documents/2. UAI/Informatica/Ingenieria de software/Ingenieria-Software/src/components/ChileMap.js"],"sourcesContent":["import { MapContainer, TileLayer, Marker, Popup, useMap } from \"react-leaflet\";\nimport \"leaflet/dist/leaflet.css\";\nimport L from \"leaflet\";\nimport { useEffect, useState } from \"react\";\n\n// ðŸ”§ Corregir Ã­conos por defecto de Leaflet\ndelete L.Icon.Default.prototype._getIconUrl;\nL.Icon.Default.mergeOptions({\n  iconRetinaUrl:\n    \"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon-2x.png\",\n  iconUrl:\n    \"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon.png\",\n  shadowUrl:\n    \"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-shadow.png\",\n});\n\nconst ChileMap = ({ sensors, onSelectSensor }) => {\n  const chileBounds = L.latLngBounds(L.latLng(-56, -76), L.latLng(-17, -66));\n\n  const [hoveredSensor, setHoveredSensor] = useState(null);\n\n  // ðŸ” Permite centrar el mapa suavemente si se quisiera\n  const MapViewUpdater = ({ center }) => {\n    const map = useMap();\n    useEffect(() => {\n      if (center) map.flyTo(center, 6, { duration: 1 });\n    }, [center]);\n    return null;\n  };\n\n  const colorCircle = (status) => {\n    switch (status) {\n      case \"critical\":\n        return \"red\";\n      case \"warning\":\n        return \"orange\";\n      default:\n        return \"green\";\n    }\n  };\n\n  return (\n    <div className=\"rounded-3xl border border-gray-200 shadow-xl overflow-hidden h-[600px] relative z-0\">\n      <MapContainer\n        center={[-35.6751, -71.543]}\n        zoom={5}\n        minZoom={4.5}\n        maxZoom={10}\n        maxBounds={chileBounds}\n        maxBoundsViscosity={1.0}\n        style={{ width: \"100%\", height: \"100%\", zIndex: 0 }}\n      >\n        <TileLayer\n          url=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\n          attribution='&copy; OpenStreetMap contributors'\n        />\n\n        {sensors.map((s) => (\n          <Marker\n            key={s.id}\n            position={[s.location.latitude, s.location.longitude]}\n            eventHandlers={{\n              click: () => onSelectSensor(s),\n              mouseover: () => setHoveredSensor(s.id),\n              mouseout: () => setHoveredSensor(null),\n            }}\n          >\n            {hoveredSensor === s.id && (\n              <Popup autoClose={false} closeButton={false} className=\"!z-[5000]\">\n                <div className=\"text-sm\">\n                  <strong>{s.name}</strong>\n                  <br />\n                  Estado:{\" \"}\n                  <span\n                    className={`font-semibold ${\n                      s.status === \"critical\"\n                        ? \"text-red-600\"\n                        : s.status === \"warning\"\n                        ? \"text-yellow-600\"\n                        : \"text-green-600\"\n                    }`}\n                  >\n                    {s.status.toUpperCase()}\n                  </span>\n                  <br />\n                  Nivel: {s.value}%\n                </div>\n              </Popup>\n            )}\n          </Marker>\n        ))}\n\n        <MapViewUpdater />\n      </MapContainer>\n    </div>\n  );\n};\n\nexport default ChileMap;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}